<launch>
  <node name="cloud_matcher_node" type="cloud_matcher_node" pkg="modular_cloud_matcher" output="screen"> 
    <param name="startupDropCount" value="0" />
    <param name="statFilePrefix" value="test.stats." />
    
    <param name="readingDataPointsFiltersCount" value="2" />
    <param name="readingDataPointsFilters/0/name" value="MaxDistOnAxisDataPointsFilter" />
    <param name="readingDataPointsFilters/0/maxDist" value="10.0" type="str"/>
    <param name="readingDataPointsFilters/0/dim" value="2" type="str"/>
    <param name="readingDataPointsFilters/1/name" value="FixstepSamplingDataPointsFilter" />
    <param name="readingDataPointsFilters/1/startStep" value="17." type="str"/>
    <param name="readingDataPointsFilters/1/endStep" value="17." type="str"/>
    <param name="readingDataPointsFilters/1/stepMult" value="1." type="str"/>
    
		<param name="keyframeDataPointsFiltersCount" value="2" />
    <param name="keyframeDataPointsFilters/0/name" value="MaxDistOnAxisDataPointsFilter" />
    <param name="keyframeDataPointsFilters/0/maxDist" value="10.0" type="str"/>
    <param name="keyframeDataPointsFilters/0/dim" value="2" type="str"/>
    <param name="keyframeDataPointsFilters/1/name" value="SamplingSurfaceNormalDataPointsFilter" />
    <param name="keyframeDataPointsFilters/1/k" value="6" type="str"/>

    <param name="matcher/name" value="KDTreeMatcher" />
    <param name="matcher/epsilon" value="0.0" type="str"/>
    <param name="matcher/maxDist" value="0.20" type="str"/>

    <param name="transformationCheckersCount" value="2" />  
    <param name="transformationCheckers/0/name" value="ErrorTransformationChecker" />
    <param name="transformationCheckers/0/minRotErrorDelta" value="0.001" type="str"/>
    <param name="transformationCheckers/0/minTransErrorDelta" value="0.01" type="str"/>
    <param name="transformationCheckers/0/tail" value="4" type="str"/>
    <param name="transformationCheckers/1/name" value="CounterTransformationChecker" />
    <param name="transformationCheckers/1/maxIterationCount" value="10" type="str"/>
    <param name="transformationCheckers/2/name" value="BoundTransformationChecker" />
    <param name="transformationCheckers/2/maxRotationNorm" value="1" type="str"/>
    <param name="transformationCheckers/2/maxTranslationNorm" value="0.5" type="str"/>

    <param name="featureOutlierFiltersCount" value="1" />
    <param name="featureOutlierFilters/0/name" value="VarTrimmedDistOutlierFilter" />
    <!--param name="featureOutlierFilters/0/name" value="MedianDistOutlierFilter" /-->
    <!--param name="featureOutlierFilters/0/factor" value="4" type="str"/-->

    <!--param name="inspector/name" value="VTKFileInspector" /-->
    <param name="inspector/name" value="NullInspector" />
    
    <param name="logger/name" value="NullLogger" />
    
    <param name="errorMinimizer/name" value="PointToPlaneErrorMinimizer" />

    <param name="transformationsCount" value="1" />
    <param name="transformations/0/name" value="TransformFeatures" />

<!-- ROS topic parameters -->
    <param name="sensorFrame" value="/openni_rgb_optical_frame" />
    <param name="fixedFrame" value="/rotated_world" />
    <param name="cloudTopic" value="/camera/rgb/points" />
    <param name="ratioToSwitchKeyframe" value="0.80" />
  </node>
</launch>
